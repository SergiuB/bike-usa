
div.navbar.navbar-fixed-top.navbar-inverse(role="navigation")
  div.container
    div.navbar-brand Administration

div.container.theme-showcase
    div.row
      div.well
        label Upload KML track:
        input(type="file", ng-file-select="onFileSelect($files)")
        div.progress(ng-show="progress >= 0")
          div(ng-class="{'progress-bar': true, 'progress-bar-danger': uploadError, 'progress-bar-success': !uploadError}", ng-style="{ 'width': progress + '%' }")
            span(ng-show="success") OK
            span(ng-show="uploadError") Error
        div(ng-show="uploadError") {{uploadError}}
    div(ng-controller='PathCtrl')
      div.row
        div.btn-group(ng-repeat='path in paths')
          button.btn.btn-default(type="button",ng-model="path.selected",ng-change="pathSelectionChange(path)", btn-checkbox)
            span {{path.name}}
            div(style="display: inline-block; width: 10px; height: 10px; background-color: {{path.getColor()}}")
      div.row
        div.pull-left.bg-primary(ng-repeat='path in paths', ng-show="path.selected")
          input(ng-model="path.hideMarkers", ng-change="toggleMarkers(path)", type="checkbox")
          span(style="background-color: {{path.getColor()}}") Hide markers

    div.row(ng-controller='AdminMapCtrl')
      #adminMap
      div.well(ng-controller='SegmentCtrl', ng-show='model.selectedSegmentData')
          p Segment {{model.selectedSegmentData.segmentIndex}} ({{model.selectedSegmentData.segment.name}}) in path {{model.selectedSegmentData.path.name}}
          p Distance {{model.selectedSegmentData.segment.distance | inKm}} km
          div.btn-group
            button.btn.btn-default(type="button",ng-model="showCopyOptions", btn-checkbox)
              span Copy to other path
            button.btn.btn-default(type="button", ng-click="removeSelectedSegment()")
              span Remove
          div(ng-show="showCopyOptions", ng-repeat='path in getOtherPaths()')
            input(type="radio", name='targetPath', ng-model="$parent.targetPathId", value="{{path._id}}") 
            span(style="background-color: {{path.getColor()}}") {{path.name}}
          div(ng-show="showCopyOptions&&targetPathId") 
            p Select "First" or segment in target path after which this segment will be copied:
            div.btn-group
              button.btn.btn-default(type="button", tooltip="Copy as first segment in path {{getPath(targetPathId).name}}", ng-click="copySelectedSegmentToTargetPath(targetPathId)")
                span First
              button.btn.btn-default(ng-repeat='segment in getTargetPathSegments()', type="button", tooltip="Copy after segment {{segment.name}} in path {{$parent.getPath($parent.targetPathId).name}}", ng-click="$parent.copySelectedSegmentToTargetPath($parent.targetPathId, $index + 1)")
                span {{$index + 1}}



